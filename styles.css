/* ========= THEME VARIABLES ========= */
/* Dark is default; Light overrides only what's different */
:root,
[data-theme="dark"]{
  /* Base palette */
  --bg:#0b0f14;
  --card:#121823;
  --muted:#7a8aa0;
  --text:#e6edf3;
  --brand:#2dd4bf;
  --accent:#60a5fa;
  --danger:#f87171;
  --warn:#fbbf24;
  --ok:#34d399;
  --border:#223045;

  /* UI tints */
  --topbar-bg: rgba(11,15,20,.92);
  --nav-hover-bg:#0e141d;
  --promo-edge: rgba(11,15,20,.85);

  /* Inputs */
  --input-bg:#0e141d;
  --input-text:var(--text);
  --input-border:var(--border);
  --input-placeholder:#8aa0b6;
  --focus-ring:28%;

  /* Pills (province list) */
  --pill-bg:#0e141d;
  --pill-active:linear-gradient(135deg,#0e141d,var(--card));
}

[data-theme="light"]{
  --bg:#f8fafc;
  --card:#ffffff;
  --muted:#657084;
  --text:#0b1220;
  --brand:#10b981;
  --accent:#3b82f6;
  --danger:#ef4444;
  --warn:#f59e0b;
  --ok:#10b981;
  --border:#e5e7eb;

  --topbar-bg:rgba(255,255,255,.92);
  --nav-hover-bg:rgba(0,0,0,.06);
  --promo-edge:rgba(255,255,255,.92);

  --input-bg:#f1f5f9;
  --input-text:#0b1220;
  --input-border:#cbd5e1;
  --input-placeholder:#94a3b8;
  --focus-ring:22%;

  --pill-bg:#f1f5f9;
  --pill-active:linear-gradient(135deg,#ffffff,#f3f4f6);
}

:root{ --footer-h:64px; }

/* ========= BASE ========= */
*{ box-sizing:border-box }
html,body{
  margin:0; padding:0;
  background:var(--bg); color:var(--text);
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial;
}
a{ color:var(--accent); text-decoration:none }
a:hover{ text-decoration:underline }

body{
  min-height:100dvh;
  display:grid; grid-template-rows:auto 1fr auto;
  padding-bottom:calc(var(--footer-h) + 12px);
}

/* ========= TOP BAR ========= */
.topbar{
  position:sticky; top:0; z-index:10;
  background:var(--topbar-bg);
  backdrop-filter:saturate(140%) blur(6px);
  border-bottom:1px solid var(--border);
  display:flex; align-items:center; justify-content:space-between;
  padding:.75rem 1rem;
}
.brand{ display:flex; gap:.75rem; align-items:center }
.logo{
  width:44px; height:44px; border-radius:50%;
  display:grid; place-items:center; font-weight:800; letter-spacing:.5px;
  color:#0b0f14; background:linear-gradient(135deg,var(--brand),var(--accent));
  box-shadow:0 0 0 3px #0b0f14, 0 10px 20px rgba(0,0,0,.35);
}
.logo.small{ width:28px; height:28px; font-size:.8rem }
.brand-text h1{ margin:0; font-size:1.25rem }
.brand-text .slogan{ margin:.1rem 0 0; color:var(--muted); font-size:.85rem }

.nav{ display:flex; align-items:center; gap:1rem }
.nav-link{
  padding:.5rem .8rem; border-radius:999px; background:transparent; color:var(--text);
  border:1px solid transparent; transition:.2s;
}
.nav-link:hover{ border-color:var(--border); background:var(--nav-hover-bg); }
.nav-link.active{ background:var(--card); border-color:var(--border) }
.user-area{
  margin-left:.25rem; width:40px; height:40px; border-radius:50%;
  display:grid; place-items:center; background:var(--card);
  border:1px solid var(--border); cursor:pointer; overflow:hidden; font-weight:700;
}

/* ========= LAYOUT ========= */
.container{
  width:min(96vw,1600px);
  max-width:none;
  margin:1.2rem auto;
  padding:0 1rem;
}
.section.hidden{ display:none }

/* Search */
.search-bar{ margin-bottom:1rem }
.search-bar input{
  width:100%; padding:.8rem 1rem; border-radius:12px; border:1px solid var(--border);
  background:var(--card); color:var(--text); outline:none;
}

/* ========= PRODUCT GRID ========= */
.grid{
  display:grid; gap:1rem;
  grid-template-columns:repeat(auto-fill, minmax(230px,1fr));
}
.card{
  background:var(--card); border:1px solid var(--border); border-radius:16px; overflow:hidden;
  display:flex; flex-direction:column; transition:.2s;
}
.card:hover{ transform:translateY(-2px) }
.card img{ width:100%; height:160px; object-fit:cover; background:#0f1720 }
.card .content{ padding:.9rem }
.title{ margin:.2rem 0 .4rem }
.price{ font-weight:800 }
.meta{ color:var(--muted); font-size:.9rem; margin:.25rem 0 .7rem }
.btn{
  background:linear-gradient(135deg,var(--brand),var(--accent));
  color:#0b0f14; border:none; padding:.6rem .85rem; border-radius:10px; cursor:pointer; font-weight:700;
}
.btn:disabled{ filter:grayscale(1); opacity:.5; cursor:not-allowed }

/* ========= WAREHOUSE ========= */
.warehouse-layout{ display:grid; grid-template-columns:260px 1fr; gap:1rem }
.warehouse-aside{ background:var(--card); border:1px solid var(--border); border-radius:16px; padding:1rem }
.province-list{ list-style:none; margin:0; padding:0; display:grid; gap:.4rem }
.province-list li::marker{ content:""; color:transparent }
.province-list li a{
  display:block; padding:.55rem .7rem; border-radius:10px;
  border:1px solid var(--border); color:var(--text); background:var(--pill-bg); text-decoration:none;
}
.province-list li a.active{ background:var(--pill-active); border-color:var(--accent) }
.province-list li a:focus-visible{ outline:3px solid var(--accent); outline-offset:2px }

.warehouse-header h2{ margin:.2rem 0 }
.stats-row{ display:grid; grid-template-columns:repeat(auto-fit,minmax(180px,1fr)); gap:.6rem; margin:.5rem 0 1rem }
.stat{ background:var(--card); border:1px solid var(--border); border-radius:12px; padding:.8rem }
.stat .label{ color:var(--muted); font-size:.85rem }
.stat.ok{ box-shadow:inset 0 0 0 2px var(--ok) }
.stat.warn{ box-shadow:inset 0 0 0 2px var(--warn) }
.stat.bad{ box-shadow:inset 0 0 0 2px var(--danger) }

.warehouse-cards{ display:grid; gap:.8rem }
.wh-card{ background:var(--card); border:1px solid var(--border); border-radius:12px; padding:.9rem }
.wh-title{ display:flex; justify-content:space-between; align-items:center; gap:.5rem }
.badge{ padding:.2rem .5rem; border-radius:8px; font-weight:700 }
.badge.ok{ background:#113c33; color:#8ef2d7 }
.badge.warn{ background:#3b2f12; color:#fed28c }
.badge.bad{ background:#3c1010; color:#ffb4b4 }
.wh-items{ margin:.6rem 0 0; border-top:1px dashed var(--border); padding-top:.6rem }
.wh-items table{ width:100%; border-collapse:collapse; font-size:.95rem }
.wh-items th,.wh-items td{ padding:.45rem; border-bottom:1px solid var(--border); text-align:left }
.wh-items td.stock0{ color:#ffb4b4 }
.wh-items td.stocklow{ color:#fed28c }

/* ========= CONTACT ========= */
.contact-grid{ display:grid; grid-template-columns:repeat(auto-fit,minmax(260px,1fr)); gap:1rem }
.contact-card{ background:var(--card); border:1px solid var(--border); border-radius:12px; padding:1rem }
.socials{ list-style:none; margin:.5rem 0 0; padding:0 }
.socials li{ margin:.25rem 0 }

/* ========= AUTH ========= */
.auth-panels{ display:grid; grid-template-columns:repeat(auto-fit,minmax(260px,1fr)); gap:1rem }
.panel{ background:var(--card); border:1px solid var(--border); border-radius:12px; padding:1rem }
.panel form{ display:grid; gap:.6rem }
.panel label{ display:grid; gap:.25rem; color:var(--muted) }
.panel input{
  background:var(--input-bg); color:var(--input-text);
  border:1px solid var(--input-border); border-radius:12px; padding:.7rem .85rem; outline:none;
  transition:border-color .15s ease, box-shadow .15s ease, background .15s ease;
}
.panel input::placeholder{ color:var(--input-placeholder) }
.panel input:focus{
  border-color:var(--accent);
  box-shadow:0 0 0 3px color-mix(in oklab, var(--accent) var(--focus-ring), transparent);
}
.panel input:-webkit-autofill{
  -webkit-text-fill-color:var(--input-text);
  box-shadow:0 0 0 1000px var(--input-bg) inset !important;
  transition:background-color 9999s ease-out, color 9999s ease-out;
}
.panel .btn{ color:#0b0f14; letter-spacing:.1px }
[data-theme="light"] .panel .btn{ filter:saturate(1.05) contrast(1.05) }

/* ========= FOOTER ========= */
.footer{
  position:fixed; left:0; right:0; bottom:0; height:var(--footer-h);
  border-top:1px solid var(--border);
  display:flex; justify-content:space-between; align-items:center; padding:1rem;
  background:var(--bg); z-index:20;
}
.footer-left{ display:flex; align-items:center; gap:.6rem; color:var(--muted) }

/* ========= CONTROLS ========= */
.icon-btn{
  margin-left:.25rem; width:40px; height:40px; border-radius:50%;
  display:grid; place-items:center; background:var(--card); color:var(--text);
  border:1px solid var(--border); cursor:pointer;
}

/* ========= PROMO (Banner) ========= */
.promo{
  position:relative; border:1px solid var(--border); border-radius:16px;
  overflow:hidden; background:var(--card); margin-bottom:1rem;
}
.promo-track{ display:flex; width:100%; transition:transform .45s ease }
.promo-slide{ min-width:100%; position:relative; height:280px; isolation:isolate }
.promo-slide img{
  position:absolute; inset:0; width:100%; height:100%; object-fit:cover;
  filter:saturate(105%) contrast(105%);
}
.promo-overlay{
  position:absolute; inset:0; z-index:1;
  background:linear-gradient(90deg, rgba(0,0,0,.65), transparent 70%);
}
[data-theme="light"] .promo-overlay{
  background:linear-gradient(90deg, rgba(255,255,255,.78), transparent 70%);
}
.promo-content{
  position:absolute; inset:0; z-index:2; display:flex; align-items:center;
  padding:clamp(16px, 4vw, 56px);
}
.promo-content > div{ max-width:min(680px, 72%) }
.promo-badge{
  display:inline-block; font-weight:800; font-size:.8rem;
  padding:.25rem .55rem; border-radius:999px;
  background:linear-gradient(135deg,var(--brand),var(--accent));
  color:#0b0f14;
}
.promo-title{
  margin:.35rem 0 0; font-size:1.6rem; line-height:1.2;
  text-shadow:0 2px 12px rgba(0,0,0,.45), 0 0 1px rgba(0,0,0,.5);
}
.promo-sub{ margin:.25rem 0 .6rem; color:var(--muted); text-shadow:0 1px 8px rgba(0,0,0,.35) }
[data-theme="light"] .promo-title{ text-shadow:0 2px 10px rgba(0,0,0,.28), 0 0 1px rgba(0,0,0,.35) }
[data-theme="light"] .promo-sub{ text-shadow:0 1px 6px rgba(0,0,0,.25) }
.promo-cta{
  display:inline-block; padding:.55rem .9rem; border-radius:10px; font-weight:700;
  background:var(--card); border:1px solid var(--border); color:var(--text); text-decoration:none;
}
.promo-cta:hover{ background:var(--nav-hover-bg) }

.promo-nav{
  position:absolute; inset:0;
  display:flex; justify-content:space-between; align-items:center; z-index:3; pointer-events:none;
}
.promo-btn{
  pointer-events:auto; width:40px; height:40px; border-radius:50%;
  border:1px solid var(--border); background:var(--card); color:var(--text); cursor:pointer; margin:0 .5rem;
}
.promo-dots{
  position:absolute; left:50%; transform:translateX(-50%);
  bottom:.6rem; display:flex; gap:.4rem; z-index:3;
}
.promo-dot{
  width:8px; height:8px; border-radius:50%;
  border:1px solid var(--border);
  background:rgba(255,255,255,.15);
}
[data-theme="light"] .promo-dot{ background:rgba(0,0,0,.08) }
.promo-dot.active{ background:var(--accent); border-color:var(--accent) }

@media (min-width:900px){
  .promo-slide{ height:360px }
  .promo-title{ font-size:2rem }
}

/* ========= RESPONSIVE ========= */
@media (max-width:800px){
  .warehouse-layout{ grid-template-columns:1fr }
}

/* Respect reduced-motion */
@media (prefers-reduced-motion:reduce){
  *{ transition:none !important; animation-duration:.01ms !important; animation-iteration-count:1 !important }
}
